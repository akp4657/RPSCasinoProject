<!DOCTYPE html>
<html lang="en">
<head>
    <title>RPS</title>
    <link rel="stylesheet" href="../css/mainpage.css">
    <audio id="dorm">
            <source src="../audio/dorm.mp3" type="audio/mpeg">
        </audio>
        <audio id="fate">
            <source src="../audio/fate.mp3" type="audio/mpeg">
        </audio>
        <audio id="deal">
            <source src="../audio/deal.mp3" type="audio/mpeg">
        </audio>
</head>
<body>
    <div class="contain">
        <h1>PlaceholderTitle</h1>
        <button class="btn" id="play"><a href="../rpsFirst.html">Play</a></button>
        <br>
        <button class="btn" id="options">Next Song</button>
    </div>

    <input id="test" type="range" min="0.0" max="1.0" step="0.1" onchange="changeVolume(this.value)">Volume</input>

    <script>
        let i = 0;
        let dorm = document.getElementById("dorm");
        let fate = document.getElementById("fate");
        let deal = document.getElementById("deal");
        let playlist = [dorm, fate, deal];
        let btn = document.getElementById("options");
        playlist[0].autoplay = true;
        playlist[0].loop = true;

        function goThrough()
        {
            i++;
            if(i>= 0 && i <= 2)
            {
                if(i > 0)
                {   
                playlist[i-1].pause();
                playlist[i-1].currentTime = 0;
                }
                playlist[i].play();
                playlist[i].loop = true;
        }
        else
        {
            playlist[2].pause();
            playlist[2].currentTime = 0;
            i = -1;
        }
}

        function changeVolume(amount)
        {
            let audioobject = playlist[i];
            audioobject.volume = amount;
        }

        btn.addEventListener("click", goThrough);
    </script>
</body>
</html>